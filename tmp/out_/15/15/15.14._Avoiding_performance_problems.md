## 15.14 パフォーマンス問題の回避

以下のポイントは、DCMのパフォーマンスに影響を与えます。
ただし、見つかった解決策は影響を受けてはいけません。

- 頻繁に必要な単純な操作は、アプリケーションで簡単に行える場合は、DCMを使用しないでください。
例えば、点が直線上にあるかどうかを調べるためだけにDCMを使用しないでください。
- ほとんどのDCM操作にかかる時間は、モデル内の図形の数に比例します。
したがって、アプリケーションは、可能な限りDCM内の図形の数を最小限に抑えるべきです。
例えば、2つの境界線が端で交わる場合、そこには単一の点だけが必要です。
2つの点を使用する場合、アプリケーションはそれらが一致するようにする必要があります。
- 境界線に中点を追加すると、DCMがモデルを解決するのにかかる時間が増えます。
中点が必要でない限り、これは避けるべきです。
- 数値解を必要とするモデルの使用は避けてください。
数値解を必要とする点、線、円の構成を含むモデルを解決するDCMを停止することが可能です。
- 過剰な数の固定図形を使用しないでください。
固定図形は、それらに制約がなくてもDCMのパフォーマンスに影響を与えます。
- 剛体セットで作業する場合、DCMはセット内の自由な図形にのみ、セット外の図形に対する制約を与える必要があります。
他の自由な図形は解決に影響を与えず、DCMに入れる必要はありません。
- 多数の図形をドラッグしないでください。
- 可能な限り増分評価を使用し、必要な場合にのみ明確に定義された図形の状態を計算してください。
- 過剰拘束モデルの解決にかかる時間を短縮することが可能ですが、これによりアプリケーションに返される情報の量が減少します。
詳細については、関数set_optionを参照してください。
- 方向距離は、方向を強制するためにDCM内部で線を作成します。
2つの点が既に適切な方向の直線に制約されている場合、方向距離を使用する代わりに単純な寸法を適用する方が良いでしょう。
大きなモデルが完全に方向距離を使用して寸法付けされている場合、パフォーマンスの低下が著しくなります。
- パターンを持つモデルは、パターンの1つのインスタンスにのみ図形に寸法を配置する場合、効率的に解決されます。

複数の対称軸を使用することにはパフォーマンスのコストがかかりますが、これを削減する方法があります。
対称モデルを効率的に作成するためのガイドラインは以下の通りです。

- 点や円だけでなく、すべての適切な図形間に対称制約を適用してください。
- 図形が対称になった場合、それらと対称軸との間、およびそれらと他の軸に対して制約を複製してください（例：平行）。
これには他の軸に関する対称制約も含まれます。
- 図形がその鏡像と同一である場合、対称ではなく同一に制約してください。さらに以下のようにします：

- 点の場合、軸と一致するように制約してください。
- 線の場合、軸と同一または直交するように制約してください。
- 円の場合、中心点を軸と一致させるように制約してください。
- 楕円の場合、中心点を軸と一致させ、軸に平行または直交するように制約してください。

複数の対称軸を使用する場合には制約のループが導入される場合には制約がありますので、注意してください。
DCMは2つ以上の対称性を持つモデルを解決することができない場合があります。
