## 2.7 過拘束モデルの解決

多くのモデルでは、アプリケーションは最小限必要な寸法や拘束の数よりも多くを指定することがあります。
特定の場合、DCMは冗長な拘束を無視してモデルを解決します。
他の場合では、モデルの一部を過拘束としてマークします。
以下のセクションでは、より詳細に解決されるケースについて説明します。

以下の説明は、一貫した拘束と寸法を参照しています。
寸法が一貫しているとは、その値が図形の位置によって満たされていることを意味します。

### 2.7.1 寸法が過拘束されたモデル

DCMは、ある寸法の値を他の寸法と独立して変化させることができず、一貫した解を見つけることができない場合、その寸法を過拘束されたとマークします。
詳細については、セクション[14.5 過拘束状態](14.5._Over-defined_status.md)を参照してください。

### 2.7.2 過拘束だが整合性のあるモデル

DCMは、値を持つ寸法ではなく、論理的な拘束によって引き起こされる整合性のある過拘束の状況を解決することができます。

[6.2 暗黙の拘束](6.2._Implied_constraints.md)のセクションで議論されているように、これらの拘束を考慮に入れると、モデルは通常、過拘束になります。
過拘束だが整合性のあるケースの分析では、これらの暗黙の拘束も考慮されます。
ただし、凍結された図形間には拘束が推論されないことに注意してください。

過拘束だが整合性のあるケースの数は無限に作成できることに注意してください。
一般的なケースは効率的に管理されますが、より複雑な例ではパフォーマンスが低下する可能性があります。
したがって、アプリケーションは原則としてどのような整合性のある拘束の組み合わせを使用しても問題ありませんが、モデルにどの拘束を追加するかを決定する際には注意が必要です。

以下のリストは、DCMが効率的に解決するケースを説明し、避けるべき構成についてのアドバイスを示しています。
特に、対称、中点、等距離の拘束に関する以下のコメントを参照してください。

- 同じ図形間の複数の拘束。
例えば、2つの円の間には複数の接線の拘束があります。
- 同じタイプの図形間の複数の一致する拘束。
例えば、3つの点はそれぞれ他の2つの点と一致するようにすることができます。
- 線と点の間の複数の一致する拘束。
例えば、2つの有界線を一致させ、その端点を他の線と一致させることができます。
- 平行および直交の拘束。
平行および直交の拘束の組み合わせは、必要な最小限のセットに縮小され、余分なものは無視されます。
ただし、2つの線の間の距離寸法は平行の拘束として扱われますが、無視される拘束の1つにはなりません。
暗黙の平行拘束のステータスコードは、オプションDCM_OPKEY_USE_WORST_PARTIAL_STATUSを使用して制御できます。
- オフセットプロファイル。
2つのプロファイルは等距離の拘束で互いにオフセットすることができます。
1つのプロファイルの図形間の拘束（例：接線）は、他のプロファイルにも複製することができます。
- 等しい半径の拘束。
等しい半径の拘束の存在により、他の拘束が不要になる場合があります。
例えば、3つ以上の円の間には任意の数の等しい半径の拘束を適用することができます。
- パターンの拘束。
パターンの拘束を含む過拘束だが整合性のあるケースは、DCMによって効率的に管理されます。
これにより、単純なプロファイルの複数のインスタンス間でのパターンの拘束が可能になります。
[15.7 パターン](15.7._Patterns.md)のセクションを参照してください。
- 対称の拘束。
対称の拘束が他の拘束を不要にする多くの構成があります。これらはDCMによって認識されます。
例えば、有界線は無界線と直線に一致するように制約された2つの点から作られます。
2つの有界線が対称になる場合、点と線の間の2つの一致の拘束は不要です。

DCMは、ジオメトリが2つの対称軸について対称である場合、すべての冗長なケースを効率的に管理します。
ジオメトリが3つ以上の軸について対称であり、対称の拘束が不要である場合、DCMはモデルを効率的に解決できない場合があります。
なお、これは対称性が直接適用されていない場合でも、モデル内の他の拘束によって暗黙的に適用される場合でも同様です。
- 中点の拘束。
中点の拘束は、点と他の2つの点または2つの線の間にあります。
DCMは、一般的な過拘束だが整合性のあるケースの多くを効率的に管理します。
これらは通常、点が有界線の中点に制約される場合に発生します。

例えば、四角形の対辺の中点間に線が構築される場合、DCMはこれらの線が既に四角形の辺に平行であることを認識します。
余分な平行の拘束は無視されます。

DCMは、一般的に点が2つ以上の他の対の図形の中点になる場合の複雑なケースを効率的に管理しません。
- 等距離の拘束。
等距離の拘束は4つの図形に配置されます。
DCMは、一般的な過拘束だが整合性のあるケースの多くを検出して管理します。

例えば、平行四辺形には等距離の拘束があり、対辺の長さが同じになるようになっている場合、これは対辺が平行であることを意味します。
DCMは余分な平行の拘束を無視します。

一般的に、DCMは複数の等距離の拘束が相互作用する複雑なケースを効率的に管理しません。

### 2.7.3 過剛性モデル

DCMは、正確に合うように制約されたセットを含むモデルを解くことができます。
これらの場合は、過剛性と呼ばれます。
DCMは、セットが正確に適切なサイズであり、論理的な制約と剛性寸法のみがセットを制約する場合、過剛性モデルを解くことができます。

![fig7_over_rigid_model.bmp](../Resources/Images/2ddcm_manual/Solving over defined models.png)

図8: 過剛性の依存グループ

[図8: 過剛性の依存グループ](#_Ref125183102)は、2つの剛性セットと2つのエッジ間の一致制約を示しています。
2つのセット間の距離は、すでにセットのサイズによって定義されており、距離寸法を追加するとモデルが過剰に定義されます。
ただし、寸法が剛性距離制約として定義され、その値が一貫している場合、DCMはモデルを解くことができます（セクション[4.2 剛性寸法](4.2._Rigid_dimensions.md)を参照）。
