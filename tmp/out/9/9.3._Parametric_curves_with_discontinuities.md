## 9.3 不連続点を持つパラメトリック曲線

DCMで評価されるパラメトリック曲線は、以下の制約を満たす必要があります：

- 曲線はC0連続でなければなりません。つまり、幾何学的に連続している必要があります。
- 曲線上の各パラメータは、一意の幾何学的位置に対応する必要があります。ただし、自己交差する曲線もサポートされています。曲線のパラメータ値で一次導関数がゼロになる場合（例：パラメータ範囲2-4は曲線上の単一の点に対応する）、サポートされていません。（ただし、パラメータ値が連続である必要はありません。詳細については以下を参照してください。）

DCMは、パラメータ値や導関数に不連続点を持つ評価されたパラメトリック曲線をサポートしていますが、アプリケーションがこれらの不連続点の位置を特定できる限りです。曲線には以下のようなものがあります：

- 非連続なパラメータ値（つまり、パラメータの値に不連続点がある）
- G1不連続（つまり、一次導関数の方向や大きさに不連続点がある）
- C1不連続（つまり、一次導関数の大きさに不連続点がある）

DCMは、これらの不連続点の位置情報と、それぞれの不連続点の両側の曲線データを取得するために、Frustum関数DCM\_parametric\_n\_disconsを呼び出します。

### 9.3.1 不連続箇所

非周期的な曲線の場合、DCMでは内部の不連続箇所のみが必要です。
パラメータの制限は不連続箇所としてカウントされません。
不連続箇所は、D#1、D#2、D#3などとして識別されます。
そして、[図58：不連続箇所の位置](#_Ref424464202)に示すように、パラメータの値が増加する順に配置されます。

![fig50_locations_of_discontinuities.bmp](../Resources/Images/2ddcm_manual/Parametric curves with discontinuities.png)

図58：不連続箇所の位置

周期的な曲線の場合、DCMでは不連続箇所のパラメータがすべて単一の周期の範囲内にある必要があります。
例えば、周期が5の曲線の場合、DCMには不連続箇所のパラメータ値が1.0、2.0、3.0、4.0または11.0、12.0、13.0、14.0であることを伝えることができます。もしシームで不連続箇所がある場合は、それをリストに含める必要があります。

### 9.3.2 パラメータ値の不連続性

このセクションでは、パラメータ値の不連続性の使用方法について説明します。

以下の[図59: パラメータ値の不連続性の例](#_Ref359943276)に示すように、表現できる曲線の例を示します。左の図では、パラメトリック曲線が自己交差するときに形成されるループがあります。アプリケーションは、この自己交差によって引き起こされるループをトリムして、右の図に太字で示される曲線を残すことができます。

![fig51_parameter_value_discontinuity.bmp](../Resources/Images/2ddcm_manual/Parametric curves with discontinuities_1.png)

図59: パラメータ値の不連続性の例

右の曲線は、DCMにバウンデッドパラメトリック曲線として表現され、パラメータの範囲は0から3です。パラメータ値と一次導関数には、パラメータ値1（下側）と2（上側）で単一の不連続点があります。

必要に応じて、DCMは曲線上の不連続点の数を問い合わせます。また、各不連続点の下側と上側のパラメータ値、位置、および導関数も問い合わせます。パラメータ範囲の不連続性を実装するために、アプリケーションは単純に上側と下側で異なるパラメータ値を返すことができます。上記の例では、下側にはパラメータ値1が、上側にはパラメータ値2が返されます。

なお、DCMはパラメータ値の不連続性の範囲内（上記の例では1から2の間）では、評価関数を呼び出しません。

フラスタム関数: [DCM\_parametric\_n\_discons](17.5._Frustum_functions_for_evaluated_parametrics.md)
