## 13.3 拘束の推論

拘束の推論は、論理的な拘束を自動的に見つけるための代替手法であり、DCM関数deduce\_constraintsを使用します。
この機能は、セクション[13.1 自動拘束](13.1._13.1._Autoconstraining.md)で説明されているautoconstrainと似ています。

この機能は、以下の点でautoconstrainと異なります：

- deduce\_constraintsは、モデル内の既存の寸法、拘束、セットを考慮しません。
これにより、寸法が過剰になる可能性があります。
- deduce\_constraintsは、モデルが過定義にならないことを確認するためのチェックをDCMが行わないため、一般的にautoconstrainよりも高速です。

deduce\_constraintsを使用するために、アプリケーションは次の情報を提供する必要があります：

- 線形と角度の許容差。
- 検索する拘束のタイプ。
- オプションで、1つ、2つ、3つ、または4つの図形。
1つの図形が与えられた場合、この図形に対する拘束のみが見つかります。
たとえば、与えられた円に接するすべての図形を見つけることができます。
2つの図形が与えられた場合、DCMはこれら2つの図形の間の指定されたタイプの拘束を検索します。
たとえば、直線が円に接しているかどうかを調べることができます。
3つの図形が与えられた場合、DCMはこれらの図形間の対称性の拘束を検索します。

autoconstrainと同様に、DCMは図形の位置に基づいて拘束を見つけ、アプリケーションに対して等価クラス（同一、平行、同心、等しい半径、等しい距離の場合）または特定の拘束（その他の拘束）として情報を返します。アプリケーションは、その後、拘束を適用するかどうかを決定する必要があります。
なお、寸法や剛体セットを含むモデルでは、等価クラスのメンバー間のすべての拘束を追加することはできません。
セクション[13.1.1 等価クラス](13.1._13.1._Autoconstraining.md)を参照してください。

デフォルトでは、deduce\_constraintsは、見つかったすべての関係を完全に定義するために追加する必要のある拘束の数を最小限にするように設計されています。

deduce\_constraintsが適用できる最大の拘束の数を特定するようにこの動作を変更することも可能です。
たとえば、DCMに対して長方形のすべての角に直角拘束を返すように強制するには、DCMに拘束の最大数を返すように要求する必要があります。

この動作を制御するために、アプリケーションはset\_option関数を使用してDCM\_OPKEY\_DEDUCE\_CONSTRAINTS\_LEVELオプションをDCM\_OPVAL\_LEVEL\_1（デフォルト）に設定して、最小限の拘束数を返すか、DCM\_OPVAL\_LEVEL\_2に設定して、最大限の拘束数を返す必要があります。
注：このオプションは、等価クラスで特定される図形の数には影響しません - DCMは常に相互に平行な直線の完全なセットをリストします。

一般的に、deduce\_constraintsはautoconstrainよりも柔軟性に欠けるため、アプリケーションはautoconstrainを使用することを推奨します。

DCM関数：[deduce\_constraints](16.11._Autodimensioning_and_autoconstraining.md)

フラスタム関数：[DCM\_deduced\_class](17.10._Functions_for_constraint_deduction_and_autodimensioning.md)
