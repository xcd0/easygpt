## 10.2 NURBS表現

DCMで定義された有界円錐曲線は、特定のNURBS曲線を使用して正確に表現することができます。
DCMは、DCMスプラインと同様の関数を使用することで、アプリケーションが曲線のスプライン表現に簡単にマッピングできるようにしています。

NURBS表現は、固定されたノットベクトル\[0,0,0,1,1,1\]と以下の制御点の重みを持つ有理二次ベジエ曲線です。

![](../Resources/Images/2ddcm_manual/NURBS representation.png)

この形式の剛性曲線は、DCMスプラインタイプを使用して追加することができますが、柔軟な円錐曲線を表現するには適していません。なぜなら、形状を定義するρ（ロー）の値はスプラインの自由度とは見なされないからです。
また、円錐曲線がDCMスプラインインターフェースを介して定義されている場合、DCMは基礎となる円錐曲線の特性（軸や焦点など）を認識していません。

DCM円錐タイプにはρパラメータが内部自由度として存在します。
DCMはまた、基礎となる円錐曲線の特性を認識しており、適切な方向性を持つ曲線を生成することができます。

2D DCMのパラメトリック曲線はすべて方向性を持っています。DCM円錐の方向は、基礎となる円錐曲線の軸に平行であると定義されています。
方向は、円錐の頂点（軸が基礎曲線と交差する点）から焦点に向かう方向に正です。
一般的に、これは有界曲線の開口方向です。
制御点が端点と等距離である場合（対称制御ポリゴン）、方向は放物線と双曲線の場合は端点の対称軸となります。
対称制御ポリゴンを持つ楕円の場合、方向は端点の対称軸またはそれに垂直な方向です（ρによって異なります、以下の注を参照）。非対称制御ポリゴンの場合、円錐の方向は制御点の位置とρのより複雑な関数です。

注：楕円の場合、ベジエ円錐の定義により、曲線の方向は特定の場合に不連続です。

- 非円形の楕円の場合、制御頂点が端点間の対称軸を通過する点で方向が反転します。これは、円錐の方向が常に始点から終点までの直線と、制御頂点から曲線に向かう直線の間に制約されているためです。
- DCM円錐の基礎楕円（0 < ρ < 0.5）が円であることもあります。DCMの場合、これは制御ポリゴンが対称である特定のρ値で発生します。このρの値は制御点の位置に依存します。円の方向は不確定であり、したがって、この場合、円錐の方向は円錐の頂点と始点と終点を結ぶ直線の中点との間の直線の方向が与えられます。なお、これにより円錐の形状を円形楕円からより一般的な形状に変更する際に方向の不連続な振る舞いが生じる可能性があります。
