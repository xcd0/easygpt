## 12.2 方程式

DCMは、寸法と拘束条件を持つ方程式を同時に解いて変数の値を求めることができます。
線形方程式と非線形方程式の両方を解くことができます。

DCMの関数: [add\_e](16.4._方程式の管理のためのDCM関数.md)

フラスタムの関数: [DCM\_equation\_type](17.9._変数と方程式のためのフラスタム関数.md)

### 12.2.1 線形方程式

線形方程式は以下のように表されます：

a1\*v1 + a2\*v2 + a3\*v3 + ... + c = 0

ここで、係数a1、a2、a3などと定数cは数値であり、v1、v2、v3などは変数です。
DCMに線形方程式を定義するには、方程式に含まれる変数と係数および定数の値を指定する必要があります。

DCMでは、異なる次元を持つ変数の次元を混在させることはできません。
つまり、同じ線形方程式に変数の角度と変数の距離を混ぜることはできません。
ただし、単純な変数を角度の値と等しくするために第二の線形方程式を使用し、それを使用して距離の値を関連付けることで、この制限を克服することが可能です。

フラスタム関数: [DCM\_equation\_constant\_value](17.9._変数と方程式のためのフラスタム関数.md)

### 12.2.2 非線形方程式

変数の非線形方程式は以下のように書くことができます：

f(v1, v2, v3...) = 0

ここで、関数fは変数v1, v2などの任意の関数である。
DCMは、どの変数がどの方程式に含まれているかを知っていますが、それらが具体的にどのように使用されているかは明示されていません。

非線形方程式の場合、DCMは変数の与えられた値での関数の値を問い合わせます。
関数の値は残差と呼ばれます。
通常、非線形方程式は反復手順を使用して解かれる必要があり、DCMは残差を複数回問い合わせます。
変数の値は反復が進むにつれてDCMによって更新され、DCM関数値を呼び出すことで問い合わせる必要があります。
アプリケーションは現在の変数の値から残差を計算する必要がありますが、DCMから要求されるまでそれらを永久に更新してはいけません。

アプリケーションは、変数の初期値がDCMが解に収束できる十分に近い値であることを確認する必要があります。
特に、変数の値が残差を計算できない場合（例：b=sqrt(a)など）、これは重要です。

DCMはまた、特定の変数に関する関数の導関数の値を問い合わせることもあります。
この情報が利用可能な場合、DCMはより速く解を見つけることができます。
ただし、利用できない場合でも、DCMはモデルを解くことができます。

DCMは、不連続な値と導関数を持つ非線形方程式を解くことができます。

非線形方程式は、線形順序を持つ場合により信頼性を持って解かれます。
例えば、aとbが可変の距離寸法である場合、a\*b=1000ではなくa=1000/bの方程式を解く方が望ましいです。なぜなら、両側の寸法は長さであるため、他の寸法や同時に解かれる他の方程式と比較可能になるからです。

フラスタム関数：[DCM\_equation\_derivative\_value](17.9._Frustum_functions_for_variables_and_equations.md)

DCM関数：[value](16.5._Enquiry_functions.md)

### 12.2.3 寸法とパラメータノードを含む非線形方程式

変数、図形、およびパラメータノードの非線形方程式は次のように書くことができます：

f(v1, v2, v3..., g1, g2, g3…, p1, p2, p3…) = 0

これにより、DCMには変数v1、v2などの値だけでなく、図形g1、g2などの位置やパラメータノードp1、p2などの値にも依存する関数fが存在することが伝えられます。
変数と同様に、DCMにはどの図形やp\_nodeの値がどの方程式に含まれているかが伝えられますが、それらが具体的にどのように使用されるかは明示されません。

DCMは、この種の非線形方程式を解くために反復法を使用します。
残差の値が要求される場合、アプリケーションはDCMの内部の変数、パラメータノード、および図形の位置を使用してそれを見つける必要があります。
アプリケーションは、DCM関数transformを呼び出すことで現在の変換行列を問い合わせることにより、DCMの内部の図形の位置を計算する必要があります。
パラメータノードの現在の値は、DCM関数help\_parameterを使用して取得することができます。
アプリケーションは、現在の変数の値、パラメータノードの値、および図形の位置から残差を計算する必要がありますが、DCMからの要求があるまでそれらを永続的に更新してはなりません。

DCMは、図形に関する非線形方程式の導関数を求めることはありません。
ただし、パラメータノードの値に関する導関数を求めることがあります。

次のセクションでは、この機能をアプリケーションでどのように使用するかの詳細について説明します。

DCM関数：[add\_g\_to\_e](16.4._DCM_functions_for_managing_equations.md)
