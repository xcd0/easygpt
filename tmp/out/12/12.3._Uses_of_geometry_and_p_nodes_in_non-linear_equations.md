## 12.3 非線形方程式における図形とパラメータノードの使用法

非線形方程式において、図形とパラメータノードは、DCMで直接サポートされていない高度な拘束と寸法を表現するために使用することができます。
各ケースでは、アプリケーションは以下のことを行う必要があります：

- DCMで非線形方程式を作成し、適切な図形を追加します。
- DCMによって要求された場合、関数の残差を提供します。

例えば、アプリケーションは以下のことができます：

- 開いたまたは閉じたプロファイルの周囲の長さを特定の値に制約する。値は数値であるか、方程式内の変数であるかもしれません。これにより、アプリケーションは2つのパラメトリック曲線の長さを同じに制約することができます。これをモデル化するために、アプリケーションはプロファイルの図形を非線形方程式に追加し、プロファイルの長さを計算する関数を持つことになります（図形を追加）。
- 閉じたプロファイルの面積を特定の値に制約する。値は数値であるか、方程式内の変数であるかもしれません（図形を追加）。
- 点を閉じたプロファイルの重心に配置するように制約する（図形を追加）。
- 点をパラメトリック曲線上の距離に配置するように制約する（p\_nodeを追加）。

注意点として、解決できる関数の種類にはいくつかの制約があります：

- 関数はスカラー値である必要があります。上記の最初の2つのケースでは、制約される値はスカラー量であり、単一の関数を使用できます。3番目のケースでは、点のx座標を制約するために1つの関数、y座標を制約するために別の関数を使用する必要があります。
- 解は座標系の剛体変換に対して不変である必要があります。つまり、関数は図形のサイズと相対位置にのみ依存し、解かれたモデルが剛体的に変換されても解は有効です。
- アプリケーションは、変数の値と図形の位置に対して関数の残差をDCMに提供できる必要があります。残差は評価中に複数回要求されます。
- アプリケーションは、関数が図形の特定の成分にのみ依存することを知っている場合があります。例えば、関数の値が円の半径にのみ依存する場合があります。現在のリリースでは、アプリケーションはこの情報をDCMに渡すことはできません。ただし、DCMはモデルを解く際にこれを検出することができます。
- 現在のリリースでは、再生成されたパラメトリック曲線を非線形方程式に追加することはできません。この制限は、後のリリースで解除されます。

これらの制約は、解決できる関係の種類を制限することはありません。ただし、ソフトウェアの統合時に考慮する必要があります。
