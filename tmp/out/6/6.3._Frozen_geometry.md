## 6.3 凍結図形

凍結された図形は以下のような振る舞いをします：

- セットに含まれていない凍結図形は、DCMによって移動されません。
- DCMは、凍結された図形同士や固定された図形と凍結された図形の間の拘束を検索しません。
- DCMは、現在満たされているアプリケーションの凍結図形間の拘束が、凍結図形が移動されても満たされ続けると仮定します。モデルの解決時にこれらの拘束を考慮します。
- DCMは、他の凍結図形や凍結セットの位置については他の仮定を行いません。
- アプリケーションによって凍結図形が移動された場合、再評価（re_evaluateを使用）が可能です。

凍結図形を含むモデルは、一般的に固定または自由な図形を持つモデルよりもDCMによって成功裏に解決される可能性が低いことに注意してください。以下にその例を示します。

### 6.3.1 凍結図形間のアプリケーションの拘束

場合によっては、アプリケーションは、図形が移動されるとしても、凍結図形間の一部の関係が維持されることを知っているかもしれません。
例えば、モデルには幾何学的に平行な2つの凍結線が含まれているかもしれません。
アプリケーションが線が移動されるが回転されないことを知っている場合、線間に平行な拘束を適用することができます。
これらの図形の位置によってこの拘束が満たされる場合、DCMは解決する際にこれを考慮します。

### 6.3.2 凍結図形とセット

DCMは、剛体セット内の自由、凍結、固定図形もサポートしています。
剛体セット自体も自由、凍結、固定のいずれかになります。

最も単純な（そしてアプリケーションにとって最も有用な）ケースは、凍結図形が自由セット内にある場合です。
DCMは、同じ剛体セット内にある自由図形間の拘束を推論します。
ただし、自由セット内の凍結図形間ではこれを行いません。
アプリケーションは、推論が行われないようにするために、凍結図形を剛体セット内で使用することができます。
たとえば、アプリケーションは、将来的にセット内の図形の位置が変更されることを知っている場合です。

これらのケースでの動作の詳細は、以下のセクションで説明されています。
ほとんどの場合、上記の簡単な概要で十分です。

#### 6.3.2.1 詳細な説明

図形ノードは、自由、凍結、固定のいずれかの状態になることがあります。
さらに、図形は剛体セット内にある場合もありますが、そのセットも自由、凍結、固定のいずれかの状態になります。
DCMの振る舞いは、図形がセット内にある場合に変更されます - 詳細は以下を参照してください。

各図形の間で、DCMは次のいずれかの動作を行います：

- 拘束を解決する - 図形間のアプリケーションの拘束は通常の方法で解決されます。
- 拘束を暗示する - これは、DCMが図形の位置によって暗示される拘束があるかどうかをチェックすることを意味します。
アプリケーションによって適用された拘束や寸法は無視されます。
- 拘束を信じる - DCMは拘束を推論しません。
ただし、図形の位置によって満たされるアプリケーションの拘束がある場合、DCMはこれらの拘束をモデルを解決する際に使用します。

#### 6.3.2.2 図形のグローバル状態とローカル状態

図形には、"ローカル"状態と"グローバル"状態の2つの状態があります。
ローカル状態は、実際の図形の状態であり、自由、凍結、または固定のいずれかです。
グローバル状態は、[表3 図形のグローバル状態](#_Ref420912623)で示されています。

セットされていない

自由にセットされた

凍結されたセット

固定されたセット

自由な図形

自由

自由

凍結

固定

凍結した図形

凍結

自由

凍結

凍結

固定された図形

固定

固定

固定

固定

表3 図形のグローバル状態

#### 6.3.2.3 拘束を解決、暗示する、または信じる

異なる2つの図形のペアごとに、どのアクションを取るかを決定するために2つの異なるルールセットが使用されます。
1つのルールセットは、同じセット内の2つの図形を比較するためにのみ使用されます。
もう1つのルールセットは、他のすべての場合に使用されます。つまり、セットにない2つの図形、セットに1つが含まれていてもう1つが含まれていない2つの図形、異なるセットにある2つの図形です。

図形が同じセットにない場合、図形のグローバルな状態に応じて取られるアクションは次のとおりです：

グローバルに自由な場合

グローバルに凍結された場合

グローバルに固定された場合

グローバルに自由な場合

拘束を解決する

拘束を解決する

拘束を解決する

グローバルに凍結された場合

拘束を解決する

拘束を信じる

拘束を信じる

グローバルに固定された場合

拘束を解決する

拘束を信じる

拘束を暗示する

図形間で取られるアクションの表

2つの図形が同じセットにある場合、図形のローカルな状態に応じて取られるアクションは次のとおりです：

ローカルに自由な場合

ローカルに凍結された場合

ローカルに固定された場合

ローカルに自由な場合

拘束を暗示する

拘束を信じる

拘束を暗示する

ローカルに凍結された場合

拘束を信じる

拘束を信じる

拘束を信じる

ローカルに固定された場合

拘束を暗示する

拘束を信じる

拘束を暗示する

同じセット内の図形間で取られるアクションの表
