## 15.1 ソフトウェアの構造

DCMは他のシステム向けに特にソフトウェアコンポーネントとして書かれています。
C++でコーディングされています。ANSI Cの呼び出し構造をサポートする他の高水準言語、Cやその他の言語とも使用することができるように設計されています。

DCMの主な機能は、DCMインターフェースを介してアクセスされます。
ただし、DCMの重要な特徴は、寸法設定スキームの接続性と、アプリケーションが保持する図形データと寸法データへの参照のみを保持していることです。
この分離により、アプリケーションはDCMから独立して使用することができます。
たとえば、図形データと寸法データは、DCMへの参照なしで保存することができます。
必要な時になると、DCMの構造は再構築されます。

図形データと寸法データは、DCMを介してFrustumインターフェースによってアクセスされます。
Frustumインターフェースの関数は、アプリケーションによって提供される必要があります。これにより、図形および寸法エンティティに関する情報を提供し、図形を変更することができます。
ただし、DCMがアプリケーションに必要のない情報を渡す場合や、DCMが関数を呼び出さない場合には、ダミーのFrustum関数を使用することができます。
たとえば、いくつかのFrustum関数は、アプリケーションがパラメトリックジオメトリを使用している場合にのみ呼び出され、実装する必要があります。

アプリケーションとDCMは、アプリケーションデータとDCMデータへのCまたはC++のポインタを介してデータを交換します。
DCMはアプリケーションデータを使用するため、アプリケーションは参照が削除されるまでDCMに宣言されたデータを削除してはいけません。
DCMを使用するためには、アプリケーションはDCMデータへの参照を維持する必要があります。
ただし、アプリケーションはDCMからデータを読み取ることはできないため、寸法と図形の間の接続性の記録も保持する必要があります。
[図72：典型的なDCMアプリケーションプログラムのソフトウェア構造のダイアグラム](#_Ref75150533)は、アプリケーション、DCM、およびデータ間のリンクを示しています：

![FIG62_FRUSTUM.bmp](../Resources/Images/2ddcm_manual/Software structure.png)

図72：典型的なDCMアプリケーションプログラムのソフトウェア構造のダイアグラム
