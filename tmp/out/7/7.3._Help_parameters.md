## 7.3 ヘルプパラメータ

ヘルプパラメータは、点、距離寸法、接線、法線、または等しい曲線の特性の拘束に対して、パラメトリック曲線上で必要です。
必要に応じて、ヘルプパラメータは楕円にも使用できます。
これらの寸法タイプのそれぞれは、曲線上の近い点または遠い点に対して測定することができます。
どの解が必要かを特定するために、アプリケーションはFrustum関数DCM\_dimension\_parameterが呼び出されるたびに、ヘルプパラメータをDCMに提供する必要があります。
ヘルプパラメータは、円または楕円上のヘルプポイントに似ています。
各場合において、他の解が存在し、アプリケーションはヘルプパラメータを使用して、DCMに必要なものを伝えます。

ヘルプポイントと同様に、ヘルプパラメータは、必要な解を区別するために十分に正確な初期値のみを指定すればよいです。
モデルが解決されると、DCMは正確な値を計算します。
これは、DCM関数help\_parameter（または一部の場合はequal\_distance\_help\_parameter）を呼び出すことで見つけることができ、Frustum関数DCM\_dimension\_parameter\_updateおよびDCM\_equal\_distance\_dimension\_parameter\_updateを介して出力されます。

[図45：パラメトリックへの距離寸法](#_Ref420906600)は、2つの点とパラメトリック曲線間の寸法を示しています。
右側は、パラメトリック曲線上の近いローカルポイントへの距離寸法であり、左側は、パラメトリック曲線上の遠いローカルポイントへの距離寸法です。

![fig40_distance_parametrics.bmp](../Resources/Images/2ddcm_manual/Help parameters.png)

図45：パラメトリックへの距離寸法

### 7.3.1 ヘルプパラメータの修正

通常、ヘルプパラメータの位置はパラメータに沿って「スライド」することができます。
多くの場合、これは解を見つけるためにヘルプパラメータを移動させる必要があります。
また、モデルが評価される際にDCMがヘルプパラメータの値を変更しないように指定することも可能です。
これは、ヘルプパラメータを固定すると呼ばれ、他の図形がパラメトリック曲線に沿ってスライドする自由度を取り除きます。
例えば、ヘルプパラメータを固定することで、アプリケーションは以下の操作を行うことができます：

- パラメトリック曲線上の固定されたパラメータ値で点を一致させる。
- パラメトリック曲線の始点で接線を作る。

これは、DCM関数parameter\_nodeを呼び出してヘルプパラメータ用のp\_nodeを作成し、その後にこのp\_nodeに対してDCM関数fixを呼び出すことで行われます。
詳細は、[16\. The DCM Interface](16._The_DCM_Interface.md)を参照してください。

制限事項：現在のバージョンでは、DCMは同じ曲線上の等しい値の固定されたp\_nodeによって引き起こされるすべての過剛性の場合を解決しません。
複数の制約を同じ固定位置（例：曲線の端）で制限したい場合は、等しいパラメータ制約を使用し、特定の値で1つの代表的なp\_nodeのみを固定することで、この制限事項を回避する必要があります。

### 7.3.2 同等パラメータ制約

同等パラメータ制約は、同じパラメトリック曲線または楕円曲線上の2つのp\_node間に追加することができます。
これにより、DCMによって解決されるときに、2つのp\_nodeが同一になります。
この制約は、パラメータの実際の値を制御しませんが、p\_nodeのいずれかを固定することで実現できます。
この制約により、アプリケーションはパラメトリックに対する制約が同じ場所に適用されることを保証できます。

例えば、パラメトリックに接する直線は、別の点でもパラメトリックと交差するかもしれません。
同等パラメータ制約を使用することで、点を直線と接点でパラメトリックと一致させることができます。
制約がない場合、点は交差点にあるかもしれません。

なお、アプリケーションがCインターフェースを使用している場合、DCM\_add\_dの代わりにDCM\_add\_dpを使用する必要があります。

DCM関数: [add\_d](16.3._Defining_the_model_data.md)

### 7.3.3 楕円の補助パラメータ

楕円に制約を適用する際、アプリケーションは制約が適用される場所を指定するために、補助点または補助パラメータのどちらを使用するか選択することができます。
アプリケーションが Frustum 関数 DCM_ellipse_dimension_parameter を登録している場合、DCM_dimension_point の前に呼び出されます。
アプリケーションがパラメータ値を返す場合、DCM は補助点を要求しません。

アプリケーションが楕円のために補助パラメータを返すことを選択した場合、DCM と同じパラメータ化を使用する必要があります。
楕円のパラメータ t は、楕円を定義する方程式に使用されます：

P( t ) = C + (R cos t)X + (r sin t)Y

ここで、0 <= t < 2π、C は楕円の中心、X と Y はそれぞれ主軸と副軸の方向の単位ベクトル、R と r はそれぞれ主軸と副軸の半径です。

なお、補助パラメータは曲線の延長を持つ楕円に使用する必要があります（セクション [7.5 曲線の延長](7.5._Curve_extensions.md)を参照）。 

Frustum 関数: [DCM_ellipse_dimension_parameter](17.2._Basic_dimension_functions.md)
